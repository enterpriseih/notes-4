[子网掩码](https://kernel.blog.csdn.net/article/details/50989257?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-50989257-blog-122937098.pc_relevant_multi_platform_featuressortv2dupreplace&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-50989257-blog-122937098.pc_relevant_multi_platform_featuressortv2dupreplace&utm_relevant_index=1)(subnet mask)也是32位

子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码只有一个作用，就是将某个IP地址划分成**网络地址**和**主机地址**两部分。 

子网掩码是一个32位地址，用于屏蔽IP地址的一部分以区别网络标识和主机标识，并说明该IP地址是在局域网上，还是在远程网上。

## 分类

<img src="img/ip地址分类.png" alt="网络地址的划分" style="zoom:80%;" />

A类默认掩码：255.0.0.0/8

B类默认掩码：255.255.0.0/16

C类默认掩码：255.255.255.0/24

## 网络地址

一个 IP地址的网络部分被称为网络号或者网络地址，主机可以与具有相同的网络号的设备直接通讯

## 根据子网掩码分割网络号和主机号

都用206.110.4.0/18

子网掩码为255.255.192.0，即`11111111.11111111.11000000.00000000` ，前18位为1

网络位是18位，主机位是14位

## 根据IP地址和子网掩码求 网络地址 和 广播地址

### 概念

- 将IP地址和子网掩码换算为二进制，子网掩码连续全1的是网络地址，后面的是主机地址
- **IP地址和子网掩码进行与&运算，结果是网络地址**（即**主机号全0**是网络地址）
- 将运算结果中的网络地址不变，**主机地址变为1，结果就是广播地址**
- 地址范围就是含在本网段内的所有主机

广播地址(Broadcast Address)是专门用于同时向网络中所有工作站进行发送的一个地址。

网络地址+1即为第一个主机地址，广播地址-1即为最后一个主机地址， 

由此可以看出地址范围是： 网络地址+1 至 广播地址-1

> **主机的数量 = 2^主机号位数 - 2**

减2是因为主机不包括网络地址和广播地址。



### 示例：202.112.14.137/27

网络号27位，主机号5位

1、**网络地址**

ip地址&子网掩码

```
  11001010 01110000 00001110 10001001
&
  11111111 11111111 11111111 11100000
= 
  11001010 01110000 00001110 10000000
```

ip地址的主机号位全变0

即：202.112.14.128

2、**广播地址**

网络地址的主机号位变1

10000000 => 10011111

即：202.112.14.159

3、**主机数量**

2^5 - 2 = 32 - 2 = 30个

因为其中全0是网络地址，全1是广播地址



## 根据每个网络的主机数量进行子网地址的规划和计算子网掩码

比如一个子网有10台主机，那么对于这个子网需要的IP地址数是 

10＋1＋1＋1＝13 

注意：加的第一个1是指这个网络连接时所需的网关地址，接着的两个1分别是指网络地址和广播地址。 

因为13小于16（16等于2的4次方），所以**主机位为4位**。

而 256－16＝240，所以该子网掩码为255.255.255.240。



## 206.110.4.0/18被划分成16个子网，每个子网掩码

已经规定了网络位是18位

```
11111111.11111111.11|000000.00000000
```

**可以操作后面14个0**

16个子网，2^4，说明子网的网络号有4位，14 - 4 = 10就是子网的主机号

上述子网掩码变为

```
11111111.11111111.111111｜00.00000000
```

即子网掩码为255.255.252.0