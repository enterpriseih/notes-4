[参考](https://www.jianshu.com/p/638b4e2c4068)

代码实现参见common-utils

# 日志框架

log4j、Logging、commons-logging、slf4j、logback

1、**Logging**

这是 Java 自带的日志工具类，在 JDK 1.5 开始就已经有了，在 java.util.logging 包下。基本没人用。

2、**commons-logging**

commons-logging 是日志的门面**接口**，它也是Apache 最早提供的日志门面接口。

3、**Slf4j**

slf4j入口就是众多**接口**的集合，不负责具体的日志实现，只在编译时负责寻找合适的日志系统进行绑定。

4、**Log4j** & **Log4j2**

日志实现框架

5、**Logback**

Slf4j 的原生实现框架



>   一般使用 slf4j + logback，或者是 slf4j + log4j2



根据不同的日志系统，可以按如下规则组织配置文件名，就能被正确加载：

-   Logback：`logback-spring.xml`, ` logback-spring.groovy`, ` logback.xml`, ` logback.groovy`
-   Log4j：`log4j-spring.properties`, `log4j-spring.xml`,  `log4j.properties`, `log4j.xml`
-   Log4j2：`log4j2-spring.xml`, `log4j2.xml`
-   JDK (Java Util Logging)：`logging.properties`



# 使用 slf4j + logback

引入配置

```xml
<dependency>
    <groupId>org.slf4j</groupId>
    <artifactId>slf4j-api</artifactId>
    <version>1.7.26</version>
</dependency>
<dependency>
    <groupId>log4j</groupId>
    <artifactId>log4j</artifactId>
    <version>1.2.17</version>
</dependency>
<dependency>
    <groupId>ch.qos.logback</groupId>
    <artifactId>logback-classic</artifactId>
    <version>1.2.3</version>
</dependency>
```



1、定义日志变量

```java
private static final Logger log = 
    LoggerFactory.getLogger(SimpleClassName.class);
// {SimpleClassName}.getClass() === SimpleClassName.class
// 需要打日志的当前类
```

2、使用 lombok 依赖，在类上增加 @Slf4j 注解，即可直接使用 log 变量

>   `{}` 占位符



`%d{HH: mm:ss.SSS}`——日志输出时间

`%thread`——输出日志的进程名字，这在Web应用以及异步任务处理中很有用

`%-5level`——日志级别，并且使用5个字符靠左对齐

`%logger{36}`——日志输出者的名字

`%msg`——日志消息

`%n`——平台的换行符

